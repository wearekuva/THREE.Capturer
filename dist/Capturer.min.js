!function e(t,r,i){function n(o,h){if(!r[o]){if(!t[o]){var s="function"==typeof require&&require;if(!h&&s)return s(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var d=r[o]={exports:{}};t[o][0].call(d.exports,function(e){var r=t[o][1][e];return n(r?r:e)},d,d.exports,e,t,r,i)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)n(i[o]);return n}({1:[function(e,t,r){function i(){h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=!0;for(var e in{toString:null})o=!1}function n(e,t,r){var n,u=0;null==o&&i();for(n in e)if(a(t,e,n,r)===!1)break;if(o)for(var d=e.constructor,c=!!d&&e===d.prototype;(n=h[u++])&&("constructor"===n&&(c||!s(e,n))||e[n]===Object.prototype[n]||a(t,e,n,r)!==!1););}function a(e,t,r,i){return e.call(i,t[r],r,t)}var o,h,s=e(3);t.exports=n},{3:3}],2:[function(e,t,r){function i(e,t,r){a(e,function(i,a){if(n(e,a))return t.call(r,e[a],a,e)})}var n=e(3),a=e(1);t.exports=i},{1:1,3:3}],3:[function(e,t,r){function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=i},{}],4:[function(e,t,r){function i(e,t){for(var r,i=0,o=arguments.length;++i<o;)r=arguments[i],null!=r&&a(r,n,e);return e}function n(e,t){this[t]=e}var a=e(2);t.exports=i},{2:2}],5:[function(e,t,r){function i(e){s(this,{fileName:"capture",fileType:"png",renderer:h,camera:h,scene:h,method:h},e),u.init(this.renderer)}function n(e,t){var r=this.method;r.render(this.renderer,this.scene,this.camera,e,t)}function a(e){this.renderer.domElement.toBlob(o.bind(this,e),"image/"+this.fileType)}function o(e,t){var r=URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.setAttribute("download",this.fileName+"."+this.fileType),i.className="download-js-link",i.innerHTML="downloading...",i.style.display="none",document.body.appendChild(i),setTimeout(function(){i.click(),document.body.removeChild(i),e&&e()},1)}var h,s=e(4),u=e(6),d=i.prototype;i.methods={ODS:e(9),Cube:e(8)},d.render=n,d.capture=a,window.THREE&&(window.THREE.Capturer=i),"function"==typeof define&&define.amd?define(function(){return i}):"undefined"!=typeof t&&t.exports&&(t.exports=i)},{4:4,6:6,8:8,9:9}],6:[function(e,t,r){function i(e){f||(x=r.renderer=e,v=r.rawShaderPrefix="precision "+x.capabilities.precision+" float;\n",p=new THREE.Scene,l=new THREE.Camera,l.position.z=1,T=r.copyMaterial=new THREE.RawShaderMaterial({uniforms:{u_texture:{type:"t",value:d}},vertexShader:g=r.vertexShader=v+"#define GLSLIFY 1\nattribute vec3 position;\nattribute vec2 uv;\n\nvarying vec2 v_uv;\n\nvoid main() {\n    v_uv = uv;\n    gl_Position = vec4( position, 1.0 );\n}\n",fragmentShader:v+"#define GLSLIFY 1\nuniform sampler2D u_texture;\n\nvarying vec2 v_uv;\n\nvoid main() {\n    gl_FragColor = texture2D( u_texture, v_uv );\n}\n"}),c=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),T),p.add(c),f=!0)}function n(e,t,r){c.material=T,T.uniforms.u_texture.value=e,x.render(p,l,t,r)}function a(e,t,r){c.material=e,x.render(p,l,t,r)}function o(e,t,r){t=0|t||1,r=0|r||1,t===e.width&&r===e.height||e.setSize(t,r)}function h(e,t,r,i,n,a){var o=new THREE.WebGLRenderTarget(e||1,t||1,{format:r||THREE.RGBFormat,type:i||THREE.UnsignedByteType,minFilter:n||THREE.LinearFilter,magFilter:a||THREE.LinearFilter,depthBuffer:!1,stencilBuffer:!1});return o.texture.generateMipMaps=!1,o}function s(){return{autoClearColor:x.autoClearColor,clearColor:x.getClearColor().getHex(),clearAlpha:x.getClearAlpha()}}function u(e){x.setClearColor(e.clearColor,e.clearAlpha),x.autoClearColor=e.autoClearColor}var d,c,p,l,f=!1,v=r.rawShaderPrefix=d,g=r.vertexShader=d,T=r.copyMaterial=d,x=r.renderer=d;r.init=i,r.copy=n,r.render=a,r.resizeRenderTarget=o,r.createRenderTarget=h,r.getColorState=s,r.setColorState=u},{}],7:[function(e,t,r){function i(e){THREE.Object3D.call(this),o(this,{width:0,height:0},e)}function n(e,t,r,i,n){}function a(e,t){e.near===t.near&&e.far===t.far||(e.near=t.near,e.far=t.far,e.updateProjectionMatrix())}var o=e(4);t.exports=i;var h=THREE.Object3D.prototype,s=i.prototype=Object.create(h);s.constructor=i,s.render=n,s._updateCameraNearFar=a},{4:4}],8:[function(e,t,r){function i(e){u.constructor.call(this,h({method:"Cube",width:4096,height:2048,cubeSize:2048,cubeSideCameras:{}},e)),this.cubeRenderTarget=new THREE.WebGLRenderTargetCube(this.cubeSize,this.cubeSize,{format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter});var t,r;for(var i in s)t=s[i],r=this.cubeSideCameras[i]=new THREE.PerspectiveCamera(90,1),r.cubeIndex=t.index,r.up.fromArray(t.up),r.lookAt((new THREE.Vector3).fromArray(t.target)),r.updateMatrix(),this.add(r);this.cubeToEqurectangularMaterial=new THREE.RawShaderMaterial({uniforms:{u_texture:{type:"t",value:this.cubeRenderTarget}},vertexShader:o.rawShaderPrefix+o.vertexShader,fragmentShader:o.rawShaderPrefix+"#define GLSLIFY 1\nuniform samplerCube u_texture;\n\nvarying vec2 v_uv;\n\nvoid main() {\n    vec2 thetaphi = ((v_uv * 2.0) - vec2(1.0)) * vec2(3.1415926535897932384626433832795, 1.5707963267948966192313216916398);\n    vec3 rayDirection = vec3(cos(thetaphi.y) * cos(thetaphi.x), sin(thetaphi.y), cos(thetaphi.y) * sin(thetaphi.x));\n    gl_FragColor = textureCube(u_texture, rayDirection);\n\n}\n"}),this.rotation.y=Math.PI/2}function n(e,t,r,i,n){e.clearTarget(this.cubeRenderTarget,!0,!0,!0);var a,h=t.autoUpdate;this.updateMatrixWorld(!0);for(var u in s)a=this.cubeSideCameras[u],this._updateCameraNearFar(a,r),this.cubeRenderTarget.activeCubeFace=a.cubeIndex,e.render(t,a,this.cubeRenderTarget),t.autoUpdate=!1;t.autoUpdate=h,i?i.setSize(this.width,this.height):e.setSize(this.width,this.height),o.render(this.cubeToEqurectangularMaterial,i,n)}var a=e(7),o=e(6),h=e(4),s={PX:{index:0,up:[0,-1,0],target:[1,0,0]},NX:{index:1,up:[0,-1,0],target:[-1,0,0]},PY:{index:2,up:[0,0,1],target:[0,1,0]},NY:{index:3,up:[0,0,-1],target:[0,-1,0]},PZ:{index:4,up:[0,-1,0],target:[0,0,1]},NZ:{index:5,up:[0,-1,0],target:[0,0,-1]}};t.exports=i;var u=a.prototype,d=i.prototype=Object.create(u);d.constructor=i,d.render=n},{4:4,6:6,7:7}],9:[function(e,t,r){function i(e){u.constructor.call(this,s({method:"ODS",width:4096,ipd:.064},e)),this.height=this.width,this.viewWidth=this.width,this.viewHeight=.5*this.height,this.pixelWidthRenderTarget=h.createRenderTarget(1,1),this.pixelWidthRenderTarget.depthBuffer=!0,this.pixelWidthRenderTarget.stencilBuffer=!0,this.eyeRenderTarget=h.createRenderTarget(this.viewWidth,this.viewHeight),this.outRenderTarget=h.createRenderTarget(this.width,this.height),this.pixelWidthCamera=new THREE.PerspectiveCamera(90,Math.atan(Math.PI/this.width)),this.add(this.pixelWidthCamera),this.lookAtTarget=new THREE.Vector3,this.perspectiveToEquirectMaterial=new THREE.RawShaderMaterial({uniforms:{u_texture:{type:"t",value:this.eyeRenderTarget}},depthTest:!1,depthWrite:!1,vertexShader:h.vertexShader,fragmentShader:h.rawShaderPrefix+"#define GLSLIFY 1\nuniform sampler2D u_texture;\nvarying vec2 v_uv;\n\nvoid main() {\n\n    float y = fract(v_uv.y * 2.0);\n\n    float phi = y * 3.1415926535897932384626433832795 / 2.0 - 3.1415926535897932384626433832795 / 4.0;\n\n    gl_FragColor = texture2D(u_texture, vec2(v_uv.x, (tan(phi) * 0.25 + mix(0.25, 0.75, step(0.5, v_uv.y)))));\n\n}\n"})}function n(e,t,r,i,n){var a=t.autoUpdate;this.renderEye(-1,e,t,r),this.renderEye(1,e,t,r),t.autoUpdate=a,i?i.setSize(this.width,this.height):e.setSize(this.width,this.height),h.copy(this.outRenderTarget,i,n)}function a(e,t,r,i){var n,a,o,s,u,d,c,p=this.viewWidth,l=this.viewHeight,f=l/2,v=this.pixelWidthCamera,g=this.lookAtTarget,T=this.eyeRenderTarget,x=this.pixelWidthRenderTarget,m=v.position,y=this.ipd/2*e;T.scissorTest=!0,t.clearTarget(T,!0,!0,!0),this.updateMatrixWorld(!0),this._updateCameraNearFar(v,i),x.setSize(1,f);for(var E=0;E<p;E++)n=(E+.5)/p,a=(2*n-1)*Math.PI,s=Math.sin(a),u=Math.cos(a),o=Math.PI/2-.25*Math.PI,d=Math.sin(o),c=Math.cos(o),m.set(u*y,0,s*y),g.set(s*c,d,-u*c).add(m),v.lookAt(g),v.updateMatrixWorld(!0),t.render(r,v,x),T.viewport.set(E,f,1,f),T.scissor.set(E,f,1,f),h.copy(x,T),r.autoUpdate=!1,o=Math.PI/2-.75*Math.PI,d=Math.sin(o),c=Math.cos(o),g.set(s*c,d,-u*c).add(m),v.lookAt(g),v.updateMatrixWorld(!0),t.render(r,v,x),T.viewport.set(E,0,1,f),T.scissor.set(E,0,1,f),h.copy(x,T);this.outRenderTarget.scissorTest=!0,this.outRenderTarget.viewport.set(0,e<0?this.viewHeight:0,this.width,this.viewHeight),this.outRenderTarget.scissor.set(0,e<0?this.viewHeight:0,this.width,this.viewHeight),h.render(this.perspectiveToEquirectMaterial,this.outRenderTarget),this.outRenderTarget.scissorTest=!1}var o=e(7),h=e(6),s=e(4);t.exports=i;var u=o.prototype,d=i.prototype=Object.create(u);d.constructor=i,d.render=n,d.renderEye=a},{4:4,6:6,7:7}]},{},[5]);