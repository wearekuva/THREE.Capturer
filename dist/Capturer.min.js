!function e(t,r,i){function a(o,s){if(!r[o]){if(!t[o]){var h="function"==typeof require&&require;if(!s&&h)return h(o,!0);if(n)return n(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var d=r[o]={exports:{}};t[o][0].call(d.exports,function(e){var r=t[o][1][e];return a(r?r:e)},d,d.exports,e,t,r,i)}return r[o].exports}for(var n="function"==typeof require&&require,o=0;o<i.length;o++)a(i[o]);return a}({1:[function(e,t,r){function i(){s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=!0;for(var e in{toString:null})o=!1}function a(e,t,r){var a,u=0;null==o&&i();for(a in e)if(n(t,e,a,r)===!1)break;if(o)for(var d=e.constructor,c=!!d&&e===d.prototype;(a=s[u++])&&("constructor"===a&&(c||!h(e,a))||e[a]===Object.prototype[a]||n(t,e,a,r)!==!1););}function n(e,t,r,i){return e.call(i,t[r],r,t)}var o,s,h=e(3);t.exports=a},{3:3}],2:[function(e,t,r){function i(e,t,r){n(e,function(i,n){if(a(e,n))return t.call(r,e[n],n,e)})}var a=e(3),n=e(1);t.exports=i},{1:1,3:3}],3:[function(e,t,r){function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=i},{}],4:[function(e,t,r){function i(e,t){for(var r,i=0,o=arguments.length;++i<o;)r=arguments[i],null!=r&&n(r,a,e);return e}function a(e,t){this[t]=e}var n=e(2);t.exports=i},{2:2}],5:[function(e,t,r){function i(e){h(this,{fileName:"capture",fileType:"png",imageQuality:.8,renderer:s,camera:s,scene:s,method:s},e),u.init(this.renderer)}function a(e,t){var r=this.method;r.render(this.renderer,this.scene,this.camera,e,t)}function n(e){HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,r){for(var i=atob(this.toDataURL(t,r).split(",")[1]),a=i.length,n=new Uint8Array(a),o=0;o<a;o++)n[o]=i.charCodeAt(o);e(new Blob([n],{type:t||"image/png"}))}});var t=this.renderer.domElement,r="image/"+("jpg"===this.fileType?"jpeg":this.fileType),i=this.imageQuality;if(t.toBlob)t.toBlob(o.bind(this,e),r,i);else{for(var a=atob(t.toDataURL(r,i).split(",")[1]),n=a.length,s=new Uint8Array(n),h=0;h<n;h++)s[h]=a.charCodeAt(h);o.call(this,e,new Blob([s],{type:r}))}}function o(e,t){var r=URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.setAttribute("download",this.fileName+"."+this.fileType),i.className="download-js-link",i.innerHTML="downloading...",i.style.display="none",document.body.appendChild(i),setTimeout(function(){i.click(),document.body.removeChild(i),e&&e()},1)}var s,h=e(4),u=e(6),d=i.prototype;i.methods={ODS:e(9),Equirectangular:e(8)},d.render=a,d.capture=n,window.THREE&&(window.THREE.Capturer=i),"function"==typeof define&&define.amd?define(function(){return i}):"undefined"!=typeof t&&t.exports&&(t.exports=i)},{4:4,6:6,8:8,9:9}],6:[function(e,t,r){function i(e){f||(m=r.renderer=e,v=r.rawShaderPrefix="precision "+m.capabilities.precision+" float;\n",l=new THREE.Scene,p=new THREE.Camera,p.position.z=1,T=r.copyMaterial=new THREE.RawShaderMaterial({uniforms:{u_texture:{type:"t",value:d}},vertexShader:g=r.vertexShader=v+"#define GLSLIFY 1\nattribute vec3 position;\nattribute vec2 uv;\n\nvarying vec2 v_uv;\n\nvoid main() {\n    v_uv = uv;\n    gl_Position = vec4( position, 1.0 );\n}\n",fragmentShader:v+"#define GLSLIFY 1\nuniform sampler2D u_texture;\n\nvarying vec2 v_uv;\n\nvoid main() {\n    gl_FragColor = texture2D( u_texture, v_uv );\n}\n"}),c=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),T),l.add(c),f=!0)}function a(e,t,r){c.material=T,T.uniforms.u_texture.value=e,m.render(l,p,t,r)}function n(e,t,r){c.material=e,m.render(l,p,t,r)}function o(e,t,r){t=0|t||1,r=0|r||1,t===e.width&&r===e.height||e.setSize(t,r)}function s(e,t,r,i,a,n){var o=new THREE.WebGLRenderTarget(e||1,t||1,{format:r||THREE.RGBFormat,type:i||THREE.UnsignedByteType,minFilter:a||THREE.LinearFilter,magFilter:n||THREE.LinearFilter,depthBuffer:!1,stencilBuffer:!1});return o.texture.generateMipMaps=!1,o}function h(){return{autoClearColor:m.autoClearColor,clearColor:m.getClearColor().getHex(),clearAlpha:m.getClearAlpha()}}function u(e){m.setClearColor(e.clearColor,e.clearAlpha),m.autoClearColor=e.autoClearColor}var d,c,l,p,f=!1,v=r.rawShaderPrefix=d,g=r.vertexShader=d,T=r.copyMaterial=d,m=r.renderer=d;r.init=i,r.copy=a,r.render=n,r.resizeRenderTarget=o,r.createRenderTarget=s,r.getColorState=h,r.setColorState=u},{}],7:[function(e,t,r){function i(e){THREE.Object3D.call(this),o(this,e)}function a(e,t,r,i,a){}function n(e,t){e.near===t.near&&e.far===t.far||(e.near=t.near,e.far=t.far,e.updateProjectionMatrix())}var o=e(4);t.exports=i;var s=THREE.Object3D.prototype,h=i.prototype=Object.create(s);h.constructor=i,h.render=a,h._updateCameraNearFar=n},{4:4}],8:[function(e,t,r){function i(e){u.constructor.call(this,s({method:"Equirectangular",size:4096,cubeSize:2048},e)),this.width=this.size,this.height=this.width>>1,this.cubeRenderTarget=new THREE.WebGLRenderTargetCube(this.cubeSize,this.cubeSize,{format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter}),this.cubeSideCameras={};var t,r;for(var i in h)t=h[i],r=this.cubeSideCameras[i]=new THREE.PerspectiveCamera(90,1),r.cubeIndex=t.index,r.up.fromArray(t.up),r.lookAt((new THREE.Vector3).fromArray(t.target)),r.updateMatrix(),this.add(r);this.cubeToEqurectangularMaterial=new THREE.RawShaderMaterial({uniforms:{u_texture:{type:"t",value:this.cubeRenderTarget}},vertexShader:o.rawShaderPrefix+o.vertexShader,fragmentShader:o.rawShaderPrefix+"#define GLSLIFY 1\nuniform samplerCube u_texture;\n\nvarying vec2 v_uv;\n\nvoid main() {\n    vec2 thetaphi = ((v_uv * 2.0) - vec2(1.0)) * vec2(3.1415926535897932384626433832795, 1.5707963267948966192313216916398);\n    vec3 rayDirection = vec3(cos(thetaphi.y) * cos(thetaphi.x), sin(thetaphi.y), cos(thetaphi.y) * sin(thetaphi.x));\n    gl_FragColor = textureCube(u_texture, rayDirection);\n\n}\n"}),this.rotation.y=Math.PI/2}function a(e,t,r,i,a){e.clearTarget(this.cubeRenderTarget,!0,!0,!0);var n,s=t.autoUpdate;this.updateMatrixWorld(!0);for(var u in h)n=this.cubeSideCameras[u],this._updateCameraNearFar(n,r),this.cubeRenderTarget.activeCubeFace=n.cubeIndex,e.render(t,n,this.cubeRenderTarget),t.autoUpdate=!1;t.autoUpdate=s,i?i.setSize(this.width,this.height):e.setSize(this.width,this.height),o.render(this.cubeToEqurectangularMaterial,i,a)}var n=e(7),o=e(6),s=e(4),h={PX:{index:0,up:[0,-1,0],target:[1,0,0]},NX:{index:1,up:[0,-1,0],target:[-1,0,0]},PY:{index:2,up:[0,0,1],target:[0,1,0]},NY:{index:3,up:[0,0,-1],target:[0,-1,0]},PZ:{index:4,up:[0,-1,0],target:[0,0,1]},NZ:{index:5,up:[0,-1,0],target:[0,0,-1]}};t.exports=i;var u=n.prototype,d=i.prototype=Object.create(u);d.constructor=i,d.render=a},{4:4,6:6,7:7}],9:[function(e,t,r){function i(e){u.constructor.call(this,h({method:"ODS",size:4096,ipd:.064},e)),this.width=this.size,this.height=this.size,this.viewWidth=this.width,this.viewHeight=this.height>>1,this.pixelWidthRenderTarget=s.createRenderTarget(1,1),this.pixelWidthRenderTarget.depthBuffer=!0,this.pixelWidthRenderTarget.stencilBuffer=!0,this.eyeRenderTarget=s.createRenderTarget(this.viewWidth,this.viewHeight),this.outRenderTarget=s.createRenderTarget(this.width,this.height),this.pixelWidthCamera=new THREE.PerspectiveCamera(90,Math.atan(Math.PI/this.width)),this.add(this.pixelWidthCamera),this.lookAtTarget=new THREE.Vector3,this.perspectiveToEquirectMaterial=new THREE.RawShaderMaterial({uniforms:{u_texture:{type:"t",value:this.eyeRenderTarget}},depthTest:!1,depthWrite:!1,vertexShader:s.vertexShader,fragmentShader:s.rawShaderPrefix+"#define GLSLIFY 1\nuniform sampler2D u_texture;\nvarying vec2 v_uv;\n\nvoid main() {\n\n    float y = fract(v_uv.y * 2.0);\n\n    float phi = y * 3.1415926535897932384626433832795 / 2.0 - 3.1415926535897932384626433832795 / 4.0;\n\n    gl_FragColor = texture2D(u_texture, vec2(v_uv.x, (tan(phi) * 0.25 + mix(0.25, 0.75, step(0.5, v_uv.y)))));\n\n}\n"})}function a(e,t,r,i,a){var n=t.autoUpdate;this.renderEye(-1,e,t,r),this.renderEye(1,e,t,r),t.autoUpdate=n,i?i.setSize(this.width,this.height):e.setSize(this.width,this.height),s.copy(this.outRenderTarget,i,a)}function n(e,t,r,i){var a,n,o,h,u,d,c,l=this.viewWidth,p=this.viewHeight,f=p/2,v=this.pixelWidthCamera,g=this.lookAtTarget,T=this.eyeRenderTarget,m=this.pixelWidthRenderTarget,y=v.position,x=this.ipd/2*e;T.scissorTest=!0,t.clearTarget(T,!0,!0,!0),this.updateMatrixWorld(!0),this._updateCameraNearFar(v,i),m.setSize(1,f);for(var E=0;E<l;E++)a=(E+.5)/l,n=(2*a-1)*Math.PI,h=Math.sin(n),u=Math.cos(n),o=Math.PI/2-.25*Math.PI,d=Math.sin(o),c=Math.cos(o),y.set(u*x,0,h*x),g.set(h*c,d,-u*c).add(y),v.lookAt(g),v.updateMatrixWorld(!0),t.render(r,v,m),T.viewport.set(E,f,1,f),T.scissor.set(E,f,1,f),s.copy(m,T),r.autoUpdate=!1,o=Math.PI/2-.75*Math.PI,d=Math.sin(o),c=Math.cos(o),g.set(h*c,d,-u*c).add(y),v.lookAt(g),v.updateMatrixWorld(!0),t.render(r,v,m),T.viewport.set(E,0,1,f),T.scissor.set(E,0,1,f),s.copy(m,T);this.outRenderTarget.scissorTest=!0,this.outRenderTarget.viewport.set(0,e<0?this.viewHeight:0,this.width,this.viewHeight),this.outRenderTarget.scissor.set(0,e<0?this.viewHeight:0,this.width,this.viewHeight),s.render(this.perspectiveToEquirectMaterial,this.outRenderTarget),this.outRenderTarget.scissorTest=!1}var o=e(7),s=e(6),h=e(4);t.exports=i;var u=o.prototype,d=i.prototype=Object.create(u);d.constructor=i,d.render=a,d.renderEye=n},{4:4,6:6,7:7}]},{},[5]);